EESchema Schematic File Version 4
LIBS:Mars Rover-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 14
Title "GREATR: Grabbing Rocks Efficiently At Test Rover"
Date ""
Rev "01"
Comp "ICSEDS Electronics"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Switch:SW_SPST SW1
U 1 1 5BDB70BD
P 1900 2250
F 0 "SW1" H 1900 2485 50  0000 C CNN
F 1 "KILLSWITCH" H 1900 2394 50  0000 C CNN
F 2 "" H 1900 2250 50  0001 C CNN
F 3 "" H 1900 2250 50  0001 C CNN
	1    1900 2250
	1    0    0    -1  
$EndComp
Text Notes 800  2950 0    50   ~ 0
19.5V BARREL JACK HERE
$Comp
L Connector:Barrel_Jack J1
U 1 1 5BDB73F0
P 1200 2350
F 0 "J1" H 1255 2675 50  0000 C CNN
F 1 "Barrel_Jack" H 1255 2584 50  0000 C CNN
F 2 "" H 1250 2310 50  0001 C CNN
F 3 "~" H 1250 2310 50  0001 C CNN
	1    1200 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR01
U 1 1 5BDB749E
P 1500 2450
F 0 "#PWR01" H 1500 2200 50  0001 C CNN
F 1 "GND" H 1505 2277 50  0000 C CNN
F 2 "" H 1500 2450 50  0001 C CNN
F 3 "" H 1500 2450 50  0001 C CNN
	1    1500 2450
	1    0    0    -1  
$EndComp
Text Notes 1100 3600 0    50   ~ 0
MUST SPEC BARREL JACK CONN BEFORE VERIFICATION\n
$Sheet
S 5900 2700 900  1300
U 5BE41DDF
F0 "H-bridge" 50
F1 "H-bridge.sch" 50
F2 "VOUT_B1" I R 6800 3600 50 
F3 "VOUT_B2" I R 6800 3700 50 
F4 "VOUT_A1" I R 6800 3100 50 
F5 "VOUT_A2" I R 6800 3200 50 
F6 "VB_1" I L 5900 3400 50 
F7 "VB_2" I L 5900 3500 50 
F8 "VA_1" I L 5900 3100 50 
F9 "VA_2" I L 5900 3200 50 
F10 "SENSE_B" I L 5900 3950 50 
F11 "SENSE_A" I L 5900 3850 50 
$EndSheet
$Sheet
S 7000 2950 600  350 
U 5BE4AF70
F0 "Motor" 50
F1 "motor.sch" 50
F2 "V1" I L 7000 3100 50 
F3 "V2" I L 7000 3200 50 
$EndSheet
$Sheet
S 5900 4250 850  800 
U 5BEEC4C8
F0 "H-Bridge-2" 50
F1 "H-bridge.sch" 50
F2 "VOUT_B1" I R 6750 4850 50 
F3 "VOUT_B2" I R 6750 4950 50 
F4 "VOUT_A1" I R 6750 4350 50 
F5 "VOUT_A2" I R 6750 4450 50 
F6 "VB_1" I L 5900 4650 50 
F7 "VB_2" I L 5900 4750 50 
F8 "VA_1" I L 5900 4400 50 
F9 "VA_2" I L 5900 4500 50 
F10 "SENSE_B" I L 5900 5000 50 
F11 "SENSE_A" I L 5900 4900 50 
$EndSheet
$Sheet
S 5900 5300 850  800 
U 5BEEC636
F0 "H-Bridge-3" 50
F1 "H-bridge.sch" 50
F2 "VOUT_B1" I R 6750 5850 50 
F3 "VOUT_B2" I R 6750 5950 50 
F4 "VOUT_A1" I R 6750 5350 50 
F5 "VOUT_A2" I R 6750 5450 50 
F6 "VB_1" I L 5900 5700 50 
F7 "VB_2" I L 5900 5800 50 
F8 "VA_1" I L 5900 5450 50 
F9 "VA_2" I L 5900 5550 50 
F10 "SENSE_B" I L 5900 6000 50 
F11 "SENSE_A" I L 5900 5900 50 
$EndSheet
Text Notes 8350 4100 0    50   ~ 0
TODO\n* HOUSEKEEPING ADC ON SPI\n* PWM CONTROLLERS ON SPI\n* CHARGING CKT
Text Notes 1550 900  0    50   ~ 0
TODO\nBattery charger IC can condition power completely.\nPlace killswitch in battery charger IC subsheet.\nAll rover power passes through this subsheet.
$Sheet
S 2350 2150 1950 250 
U 5C44C34C
F0 "Battery Connection and Charge Management" 50
F1 "BattCon.sch" 50
F2 "BATT_OUT" I R 4300 2250 50 
F3 "VIN" I L 2350 2250 50 
$EndSheet
Wire Wire Line
	1500 2250 1700 2250
Wire Wire Line
	2100 2250 2350 2250
$Sheet
S 5800 1900 1100 200 
U 5C45D14E
F0 "sheet5C45D149" 50
F1 "buck.sch" 50
F2 "VIN" I L 5800 2000 50 
F3 "VOUT" I R 6900 2000 50 
$EndSheet
Text Notes 4650 2500 0    50   ~ 0
TODO VERIFY PINOUT OF THIS SCHEMATIC SYMBOL\n
$Comp
L power:+5V #PWR?
U 1 1 5C45D155
P 7250 2000
F 0 "#PWR?" H 7250 1850 50  0001 C CNN
F 1 "+5V" H 7265 2173 50  0000 C CNN
F 2 "" H 7250 2000 50  0001 C CNN
F 3 "" H 7250 2000 50  0001 C CNN
	1    7250 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 2000 7250 2000
$Comp
L power:+12V #PWR?
U 1 1 5C45D15C
P 7250 2250
F 0 "#PWR?" H 7250 2100 50  0001 C CNN
F 1 "+12V" H 7265 2423 50  0000 C CNN
F 2 "" H 7250 2250 50  0001 C CNN
F 3 "" H 7250 2250 50  0001 C CNN
	1    7250 2250
	1    0    0    -1  
$EndComp
$Sheet
S 5800 1200 1100 200 
U 5C45D160
F0 "sheet5C45D14A" 50
F1 "buck_7v.sch" 50
F2 "VIN" I L 5800 1300 50 
F3 "VOUT" I R 6900 1300 50 
$EndSheet
Wire Wire Line
	5700 2000 5700 1300
Wire Wire Line
	5700 1300 5800 1300
Connection ~ 5700 2000
Wire Wire Line
	5700 2000 5800 2000
$Comp
L power:+7.5V #PWR?
U 1 1 5C45D16A
P 7100 1300
F 0 "#PWR?" H 7100 1150 50  0001 C CNN
F 1 "+7.5V" H 7115 1473 50  0000 C CNN
F 2 "" H 7100 1300 50  0001 C CNN
F 3 "" H 7100 1300 50  0001 C CNN
	1    7100 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 1300 7100 1300
Text Notes 7250 1300 0    50   ~ 0
FUCK KICAD POWER NAMING RULES\nTHIS IS 7V\n
Wire Wire Line
	5700 2000 5700 2250
Connection ~ 5700 2250
Wire Wire Line
	5700 2250 7250 2250
$Comp
L Switch:SW_SPST SW?
U 1 1 5C45D1E7
P 4650 2250
F 0 "SW?" H 4650 2485 50  0000 C CNN
F 1 "CHARGING" H 4650 2394 50  0000 C CNN
F 2 "" H 4650 2250 50  0001 C CNN
F 3 "" H 4650 2250 50  0001 C CNN
	1    4650 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 2250 5700 2250
Wire Wire Line
	4450 2250 4300 2250
Wire Wire Line
	7000 3100 6800 3100
Wire Wire Line
	6800 3200 7000 3200
$Sheet
S 7000 3450 600  350 
U 5C45D71B
F0 "sheet5C45D717" 50
F1 "motor.sch" 50
F2 "V1" I L 7000 3600 50 
F3 "V2" I L 7000 3700 50 
$EndSheet
Wire Wire Line
	6800 3600 7000 3600
Wire Wire Line
	6800 3700 7000 3700
$Sheet
S 7050 4200 600  350 
U 5C45DA60
F0 "sheet5C45DA5C" 50
F1 "motor.sch" 50
F2 "V1" I L 7050 4350 50 
F3 "V2" I L 7050 4450 50 
$EndSheet
$Sheet
S 7050 4700 600  350 
U 5C45DEFD
F0 "sheet5C45DEF9" 50
F1 "motor.sch" 50
F2 "V1" I L 7050 4850 50 
F3 "V2" I L 7050 4950 50 
$EndSheet
Wire Wire Line
	7050 4850 6750 4850
Wire Wire Line
	6750 4950 7050 4950
$Sheet
S 7000 5200 600  350 
U 5C45F77E
F0 "sheet5C45F77A" 50
F1 "motor.sch" 50
F2 "V1" I L 7000 5350 50 
F3 "V2" I L 7000 5450 50 
$EndSheet
Wire Wire Line
	7000 5350 6750 5350
Wire Wire Line
	6750 5450 7000 5450
$Sheet
S 7000 5700 600  350 
U 5C45FA40
F0 "sheet5C45FA3C" 50
F1 "motor.sch" 50
F2 "V1" I L 7000 5850 50 
F3 "V2" I L 7000 5950 50 
$EndSheet
Wire Wire Line
	7000 5850 6750 5850
Wire Wire Line
	6750 5950 7000 5950
$Sheet
S 4150 3000 1500 3100
U 5C46155B
F0 "Digital logic" 50
F1 "digital.sch" 50
F2 "PWM0" I R 5650 3100 50 
F3 "PWM1" I R 5650 3200 50 
F4 "PWM2" I R 5650 3400 50 
F5 "PWM3" I R 5650 3500 50 
F6 "PWM4" I R 5650 4400 50 
F7 "PWM5" I R 5650 4500 50 
F8 "PWM6" I R 5650 4650 50 
F9 "PWM7" I R 5650 4750 50 
F10 "PWM8" I R 5650 5450 50 
F11 "PWM9" I R 5650 5550 50 
F12 "PWMA" I R 5650 5700 50 
F13 "PWMB" I R 5650 5800 50 
F14 "PWMC" I L 4150 3100 50 
F15 "PWMD" I L 4150 3200 50 
F16 "PWME" I L 4150 3300 50 
F17 "PWMF" I L 4150 3400 50 
F18 "HK0" I R 5650 3850 50 
F19 "HK1" I R 5650 3950 50 
F20 "HK2" I R 5650 4900 50 
F21 "HK3" I R 5650 5000 50 
F22 "HK4" I R 5650 5900 50 
F23 "HK5" I R 5650 6000 50 
$EndSheet
$Comp
L Connector_Generic:Conn_01x03 J?
U 1 1 5C467094
P 1950 2850
AR Path="/5C467094" Ref="J?"  Part="1" 
AR Path="/5C44C34C/5C467094" Ref="J?"  Part="1" 
F 0 "J?" H 1870 2525 50  0000 C CNN
F 1 "Conn_01x03" H 1870 2616 50  0000 C CNN
F 2 "" H 1950 2850 50  0001 C CNN
F 3 "~" H 1950 2850 50  0001 C CNN
	1    1950 2850
	-1   0    0    1   
$EndComp
$Comp
L Device:CP1 C?
U 1 1 5C49F60A
P 2300 3100
AR Path="/5C49F60A" Ref="C?"  Part="1" 
AR Path="/5C44C34C/5C49F60A" Ref="C?"  Part="1" 
F 0 "C?" H 2415 3146 50  0000 L CNN
F 1 "22uF" H 2415 3055 50  0000 L CNN
F 2 "" H 2300 3100 50  0001 C CNN
F 3 "~" H 2300 3100 50  0001 C CNN
	1    2300 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5C49F611
P 2650 3100
AR Path="/5C49F611" Ref="C?"  Part="1" 
AR Path="/5C44C34C/5C49F611" Ref="C?"  Part="1" 
F 0 "C?" H 2535 3054 50  0000 R CNN
F 1 "0.1uF" H 2535 3145 50  0000 R CNN
F 2 "" H 2688 2950 50  0001 C CNN
F 3 "~" H 2650 3100 50  0001 C CNN
	1    2650 3100
	-1   0    0    1   
$EndComp
Wire Wire Line
	2150 2950 2300 2950
Connection ~ 2300 2950
Wire Wire Line
	2300 2950 2650 2950
$Comp
L power:GND #PWR?
U 1 1 5C49FD10
P 2300 3250
F 0 "#PWR?" H 2300 3000 50  0001 C CNN
F 1 "GND" H 2305 3077 50  0000 C CNN
F 2 "" H 2300 3250 50  0001 C CNN
F 3 "" H 2300 3250 50  0001 C CNN
	1    2300 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2650 3250 2300 3250
Connection ~ 2300 3250
Wire Wire Line
	5650 3100 5900 3100
Wire Wire Line
	5900 3200 5650 3200
Wire Wire Line
	5650 3400 5900 3400
Wire Wire Line
	5900 3500 5650 3500
Wire Wire Line
	5650 4400 5900 4400
Wire Wire Line
	5900 4500 5650 4500
Wire Wire Line
	5650 4650 5900 4650
Wire Wire Line
	5900 4750 5650 4750
Wire Wire Line
	5650 5450 5900 5450
Wire Wire Line
	5900 5550 5650 5550
Wire Wire Line
	5650 5700 5900 5700
Wire Wire Line
	5650 5800 5900 5800
Wire Wire Line
	6750 4350 7050 4350
Wire Wire Line
	7050 4450 6750 4450
Wire Wire Line
	5900 6000 5650 6000
Wire Wire Line
	5650 5900 5900 5900
Wire Wire Line
	5650 4900 5900 4900
Wire Wire Line
	5900 5000 5650 5000
Wire Wire Line
	5650 3950 5900 3950
Wire Wire Line
	5900 3850 5650 3850
$EndSCHEMATC
